<!--Copyright 2020 Google LLC-->

<!--Licensed under the Apache License, Version 2.0 (the "License");-->
<!--you may not use this file except in compliance with the License.-->
<!--You may obtain a copy of the License at-->

    <!--https://www.apache.org/licenses/LICENSE-2.0-->

<!--Unless required by applicable law or agreed to in writing, software-->
<!--distributed under the License is distributed on an "AS IS" BASIS,-->
<!--WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.-->
<!--See the License for the specific language governing permissions and-->
<!--limitations under the License.-->

<mujoco model="franka_handover">

    <size njmax='1000' nconmax='1000'/>

    <include file="basic_scene.xml"/>
    <include file="../franka_assets/assets.xml"/>
    <include file="../franka_assets/actuator.xml"/>
    <include file="item_assets/kettle_asset.xml"/>

    <visual>
    <global offwidth="2560" offheight="1920" />
    <quality shadowsize="4096" offsamples="8" />
    <map force="0.1" fogend="5" />
    </visual>

    <compiler inertiafromgeom='auto' inertiagrouprange='3 5' angle="radian" texturedir="textures" meshdir="../franka_assets/meshes"/>
    <worldbody>
        <camera name='left_cap' pos='-1.2 -0.5 1.8' quat='0.78 0.49 -0.22 -0.32' />
        <camera name='right_cap' pos='1.2 -0.5 1.8' quat='0.76 0.5 0.21 0.35'/>

        <!-- Robot -->
        <body pos="0 0 0.755">
            <include file="../franka_assets/chain.xml"/>
        </body>

        <body name="robot_receiver_table" pos="0.75 0 0" quat="1 0 0 1">
            <geom type="box" size=".6 .375 .025" pos="0 0 0.735" mass="2000" contype='1' condim='3' conaffinity='1'/>
            <geom type="box" size="0.59 0.26 .05" pos="0 0 0.66" mass="2000" contype='1' condim='3' conaffinity='1'/>
            <geom type="box" size="0.025 0.025 0.305" pos="-0.565 0.235 0.305" mass="2000" contype='1' condim='3' conaffinity='1'/>
            <geom type="box" size="0.025 0.025 0.305" pos="-0.565 -0.235 0.305" mass="2000" contype='1' condim='3' conaffinity='1'/>
            <geom type="box" size="0.025 0.025 0.305" pos="0.565 0.235 0.305" mass="2000" contype='1' condim='3' conaffinity='1'/>
            <geom type="box" size="0.025 0.025 0.305" pos="0.565 -0.235 0.305" mass="2000" contype='1' condim='3' conaffinity='1'/>
        </body>

        <body name="robot_giver_table" pos="-0.75 0 0" quat="1 0 0 1">

            <geom type="box" size=".6 .375 .025" pos="0 0 0.735" mass="2000" contype='1' condim='3' conaffinity='1'/>
            <geom type="box" size="0.59 0.26 .05" pos="0 0 0.66" mass="2000" contype='1' condim='3' conaffinity='1'/>
            <geom type="box" size="0.025 0.025 0.305" pos="-0.565 0.235 0.305" mass="2000" contype='1' condim='3' conaffinity='1'/>
            <geom type="box" size="0.025 0.025 0.305" pos="-0.565 -0.235 0.305" mass="2000" contype='1' condim='3' conaffinity='1'/>
            <geom type="box" size="0.025 0.025 0.305" pos="0.565 0.235 0.305" mass="2000" contype='1' condim='3' conaffinity='1'/>
            <geom type="box" size="0.025 0.025 0.305" pos="0.565 -0.235 0.305" mass="2000" contype='1' condim='3' conaffinity='1'/>
        </body>
        
        <body name="kettle" pos="-0.75 0.4 0.775" quat="0 0 0 0.707">
            <freejoint name="kettle"/>
            <include file="item_assets/kettle_chain.xml" size='0.75 0.75 0.75'/>
        </body>

    </worldbody>
    

    <!-- <keyframe>
        <key qpos='0.16 -1.76 1.84 -2.51 0.36 0.79 1.55 0.00 0.0 1.25561e-05 1.57437e-07 1.25561e-05 1.57437e-07 1.25561e-05 1.57437e-07 1.25561e-05 1.57437e-07 8.24417e-05 9.48283e-05 0 0 0 0 -0.269 0.35 1.61523 1 1.34939e-19 -3.51612e-05 -7.50168e-19'/>
    </keyframe> -->

</mujoco>
